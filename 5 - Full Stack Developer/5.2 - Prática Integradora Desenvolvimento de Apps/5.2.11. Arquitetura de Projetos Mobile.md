# Arquitetura de Projetos Mobile


### Overview sobre Ionic


O Ionic é um kit de ferramentas de interface do usuário de código aberto para criar aplicativos móveis e de desktop de alta qualidade e desempenho usando tecnologias da Web — HTML, CSS e JavaScript — com integrações para estruturas populares como Angular , React e Vue .


Ionic é um framework HTML front-end construído sobre Angular, React, Vue Js, Capacitor e Cordova. De acordo com o documento oficial, a definição deste Ionic Open Source Framework é a seguinte: Ionic é uma estrutura de desenvolvimento de aplicativos móveis HTML5 voltada para a criação de aplicativos móveis híbridos. Pense no Ionic como a estrutura de interface do usuário de front-end que lida com toda a aparência e as interações de interface do usuário que seu aplicativo precisa para ser atraente.  Mais ou menos como “Bootstrap for Native”, mas com suporte para uma ampla gama de componentes móveis nativos comuns, animações elegantes e um design bonito.


## Recursos da estrutura do Ionic


A seguir estão as características mais importantes do Ionic:


- Angular - Ionic está usando a arquitetura Angular MVC para construir aplicativos de página única ricos otimizados para dispositivos móveis.

- Componentes SCSS − Com a aparência nativa.

- Componentes Typescript – Esses componentes estão estendendo componentes SCSS com funcionalidades para cobrir todos os elementos móveis que não podem ser feitos apenas com HTML e SCSS.

- Plugins Cordova - Os plugins Apache Cordova oferecem a API necessária para usar funções nativas do dispositivo com código Typescript.

- Capacitor – Bibliotecas para acessar códigos nativos da mesma maneira que o cordova, porém com uma performance muito maior.

- Ionic CLI - Este é o utilitário NodeJS alimentado com comandos para iniciar, construir, executar e emular aplicativos Ionic.

- Licença - Ionic é lançado sob licença do MIT.

Com base no aplicativo que construímos na aula anterior vamos fazer algumas modificações para mostrar um lista a partir de um array estático.


## Implementando Componentes


O termo componentes é um pouco usado em demasia no desenvolvimento front-end, pois muitos frameworks têm sua própria noção descrevendo um componente. Na verdade, Web Components como um padrão HTML oficial pode complicar ainda mais o conceito, então vamos definir claramente o que é um componente no Ionic.


Em um sentido geral, um componente é uma implementação de um conjunto de recursos que são encapsulados por alguma forma de convenção de codificação. Em outras palavras, você pode pensar em um componente como uma maneira de isolar um recurso específico do restante do aplicativo. Você pode pensar em como em HTML existem diferentes tipos de entradas de formulário e cada uma delas é um tipo de componente que possui características específicas.


No Ionic, existem dois tipos de componentes, SCSS e Typescript. Os componentes CSS são implementados como um conjunto de classes SCSS que modificam um elemento para dar a ele uma aparência específica, como uma barra de cabeçalho.


Agora vamos usar o componente tab2 para criar uma lista e mostrar a mesma através da diretiva *ngFor agora vamos modificar o componente e adicionar uma lista no formato Json para a variável itens.


    import { Component } from ‘@angular/core’;

    @Component({
        selector: ‘app-tab2’,
        templateUrl: ‘tab2.page.html’,
        styleUrls: [‘tab2.page.scss’]
    })


    export class Tab2Page {
        items: any;

        constructor() {

            this.items = [
                {
                    title: ‘Posto Cidade’,
                    subTitle: ‘Gasolina R$4,80’,
                    image: ‘https://images.emojiterra.com/google/android-11/512px/26fd.png’
                },
                {
                    title: ‘Posto Expresso’,
                    subTitle: ‘Alcool R$3,80’,
                    image: ‘https://images.emojiterra.com/google/android-11/512px/26fd.png’
                },
                {
                    title: ‘Central dos Combustíveis’,
                    subTitle: ‘Gasolina Super R$5,30’,
                    image: ‘https://images.emojiterra.com/google/android-11/512px/26fd.png’
                },
                {
                    title: ‘Posto Rio’,
                    subTitle: ‘Alcool R$3,90’,
                    image: ‘https://images.emojiterra.com/google/android-11/512px/26fd.png’
                },
                {
                    title: ‘Posto BH’,
                    subTitle: ‘Gas natural R$2,60’,
                    image: ‘https://images.emojiterra.com/google/android-11/512px/26fd.png’
                }
            ]
        }
    }


Agora vamos modificar nosso HTML do componente para mostrar a lista, vamos usar a diretiva *ngFor para listar o items que são postos de gasolina.


    <ion-header [translucent]=“true”>


        <ion-toolbar>

            <ion-title>
                Lista
            </ion-title>

        </ion-toolbar>

    </ion-header>


    <ion-content [fullscreen]=“true”>


        <ion-header collapse=“condense”>


        <ion-toolbar>


        <ion-title size=“large”>Tab 2</ion-title>


        </ion-toolbar>


        </ion-header>



        <ion-list>


        <ion-item *ngFor=“let item of items”>


     


      <ion-avatar item-start>


        <img src={{item.image}}>


      </ion-avatar>


      <ion-grid>


        <ion-row>


          <ion-col>{{item.title}}</ion-col>


        </ion-row>


        <ion-row>


          <ion-col>{{item.subTitle}}</ion-col>


        </ion-row>


      </ion-grid>


        </ion-item>


    </ion-list>


    </ion-content>



## Capacitor Ionic vs Cordova


Há dois pontos principais ao fazer uma comparação Cordova vs Capacitor: Gerenciamento de Projeto Nativo e Gerenciamento de Plugin e CLI .


Como o Capacitor, o Cordova é um projeto de código aberto que executa aplicativos da Web em várias plataformas, embora não seja o Electron nem a Web como um aplicativo da Web progressivo. 


Cordova é o núcleo de código aberto do projeto comercial Adobe PhoneGap e, para os propósitos desta discussão, eles podem ser considerados equivalentes.


Embora Cordova e Capacitor tenham algumas semelhanças, os projetos tomam decisões muito diferentes em vários pontos-chave, de modo que a experiência dos dois projetos é muito diferente. O Capacitor, lançado em 2018, também usa muitas novas APIs modernas que não estavam disponíveis quando o Cordova foi criado em 2009.


Usamos e recomendamos fortemente o uso do Capacitor, a experiência do desenvolvedor é MUITO melhor do que com o Cordova.



## Plug-ins de Ionic Capacitor


Os aplicativos da Web podem acessar todo o poder das APIs nativas com plugins. Os plug-ins envolvem operações nativas comuns que podem usar APIs muito diferentes nas plataformas enquanto expõem uma API consistente e multiplataforma ao JavaScript.


### Obtendo Localização via GPS


Vamos mostrar aqui neste tópico o passo a passo sobre como usar o plug-in Cordova Geolocation e Geocoder em um aplicativo Ionic para obter a posição atual do dispositivo do usuário, obter o endereço atual do usuário.


Criar novo projeto iônico/angular


Use o comando para instalar o Cordova globalmente em sua máquina.


    sudo npm install -g cordova ionic


Usando o comando a seguir, você pode verificar a versão do Ionic CLI em execução em sua máquina.


    ionic -v


Use o comando abaixo para atualizar o Ionic e o Cordova.


    sudo npm update -g cordova ionic


Vamos começar a instalar um novo aplicativo Ionic Angular com a ajuda do Ionic CLI, execute o seguinte comando no seu terminal.


    ionic start ionic-geolocation-app blank --type=angular


Entre na pasta do projeto.


    cd ionic-geolocation-app


Inicie o aplicativo no navegador.


    ionic serve --lab

Agora nós vamos mostrar como instalamos e configuramos o Cordova Geolocation, Geocoder e Ionic Native Plugins.


Nesta etapa, primeiro instalamos e configuramos os plug-ins nativos Cordova Geolocation, Geocoder e Ionic em um aplicativo Ionic.


### Geolocalização


A API do plug-in cordova-plugin-geolocation é baseada na especificação da API de geolocalização do W3C e ajuda a obter os dados de localização (latitude e longitude).


    ionic cordova plugin add cordova-plugin-geolocation


Instale @ionic-native/geolocation via npm usando o comando abaixo.


    npm install @ionic-native/geolocation


Este plug-in de localização geográfica fornece dados do dispositivo, como localização, latitude e longitude do dispositivo. Ele suporta as seguintes plataformas: iOS; Android; Windows; Browser; Amazon Fire OS


Adicione a configuração abaixo ao seu arquivo configuration.xml para suporte ao iOS.







