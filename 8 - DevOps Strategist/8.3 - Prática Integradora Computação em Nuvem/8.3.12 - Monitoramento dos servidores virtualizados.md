## Monitoramento dos servidores virtualizados

**Abordagens para monitorar seu ambiente AWS**  
Provedores, como a AWS, investem milhões de dólares anualmente no aprimoramento de suas plataformas e seus serviços, pois o objetivo é claro: oferecer aos clientes sempre o melhor serviço, a mais alta disponibilidade e garantir seu uptime o mais próximo de 100% que a tecnologia permite. Porém, é necessário lembrar que tal investimento jamais será suficiente se não existir um intenso processo de gerenciamento e monitoramento, além de ser importante ressaltar que cabe ao cliente uma grande parte da responsabilidade deste processo.  
Em ambientes de computação em nuvem existem diversas ferramentas que monitoram e registram diversos indicadores e estatísticas de performance em tempo real. Tais registros permitem uma avaliação quanto aos padrões de uso, picos de baixo desempenho e diversos outros aspectos que podem indicar erros de configuração, de codificação ou até mesmo ataques cibernéticos. A AWS oferece o APM, ou Monitoramento de Performance de Aplicativos, que de acordo com AWS (2022c, Documento Online), permitem monitorar a:  
  

\[…\] experiência do cliente de ponta a ponta, desde navegadores e dispositivos móveis até as várias camadas da pilha de aplicativos. O APM começa com o monitoramento de front-end – medindo e monitorando a experiência dos clientes a partir do navegador ou dispositivo móvel. No centro do APM, descoberta, rastreamento e diagnóstico de aplicativos, está a capacidade de identificar qual parte de um aplicativo está causando problemas de performance e localizar rapidamente o motivo.  
​  

Claro que o monitoramento, quando não assistido atentamente por um profissional, pode não gerar nenhuma ação contundente, pois existem limites de implementação de automações acionadas por estes indicadores. Desta forma, surgem os alertas capazes de informar o administrador da existência de alguma anomalia em seu sistema.  
As novidades neste setor indicam o uso de inteligência artificial e do Machine Learning capazes de agir mais precisamente na identificação de comportamentos anômalos nas aplicações e o fazem com grande antecipação, o que oferece à gestão a capacidade de impedir que um problema se espalhe e se torne crítico.  
Outros dois grandes focos de investimento em infraestrutura e desenvolvimento de ferramentas pelos provedores de nuvem, como a AWS, estão no monitoramento de infraestrutura e da experiência digital. No que diz respeito ao monitoramento de infraestrutura, métricas e logs são cuidadosamente correlacionados de forma que anormalidades são facilmente expostas e corrigidas.  
Agora no monitoramento da experiência digital, ou DEM, são oferecidos insights desta experiência de usuário através da coleta das atividades dos usuários finais em seu ambiente, ou seja, em seu navegador, o que também inclui aplicativos móveis e qualquer interação por voz nestes ambientes.  
Os processos de monitoramento são aprimorados com a telemetria, ou seja, a instrumentalização dos sistemas de forma a permitir que possam coletar dados de desempenho de seus respectivos sistemas, o que beneficia sua gestão, inclusive se for aplicado a equipes de desenvolvimento e operações, pois:  

\[…\] diferentes equipes dentro de uma empresa podem usar ferramentas distintas, o que levou a uma proliferação de agentes de monitoramento que devem ser incluídos na base de código de uma empresa, ou é necessário instrumentalizar novamente caso se decida usar ferramentas diferentes ou adicionais. (AWS 2022c, Documento Online).  
  

Assim, com o projeto OpenTelemetry existe a possibilidade de instrumentalizar aplicações em uma única instância e com isso obter métricas chave para diversas soluções de monitoramento.  
  
**Monitoramento de APIs com CloudTrail**  
Quando o AWS CloudTrail é habilitado em uma conta AWS, permite que sejam configurados diversos monitoramentos de serviços AWS com o registro de logs no S3 e envio de alertas em ferramentas como o SNS (Amazon Simple Notification Service). Desta forma, com o AWS CloudTrail, o administrador pode controlar e realizar auditorias operacionais em seus serviços AWS.  
Com o serviço AWS CloudTrail habilitado, o administrador da conta raiz, ou administrador delegado, pode analisar e agir em diversas situações operacionais, pois passa a poder identificar o autor de certa não conformidade e tem sua atuação aprimorada com o auxílio de seus insights. Este sistema pode ser integrado a uma API, o que permite “\[…\] automatizar a criação de trilhas para a sua organização, confirmar o status das trilhas que você criou e controlar como os usuários visualizam os eventos do CloudTrail.” (AWS 2022a, p.01).  
  
**Monitoramento de ambiente com Amazon CloudWatch**  
Como o nome indica, o Amazon CloudWatch é um serviço que contribui para a manutenção da melhor performance e melhores práticas na AWS através do monitoramento e observação com a oferta de dados e instruções, insights às aplicações do usuário e isso contribui para o uso efetivo de seus recursos na nuvem. Desta forma, temos que o Amazon CloudWatch realiza a:  

\[…\] coleta dados operacionais e de monitoramento na forma de logs, métricas e eventos. Você obtém uma visão unificada da integridade operacional e visibilidade completa de seus recursos, aplicações e serviços da AWS em execução na AWS e on-premises. O CloudWatch pode ser utilizado para detectar comportamentos anômalos nos seus ambientes, definir alarmes, visualizar logs e métricas lado a lado, executar ações automatizadas, solucionar problemas e descobrir insights para manter suas aplicações em execução contínua. (AWS 2022, Documento Online).  
  

Embora seja evidente, o Amazon CloudWatch apresenta diversos Benefícios, como podemos observar no quadro a seguir:  
Quadro 1: Benefícios do monitoramento de ambiente com Amazon CloudWatch  
  

![](https://paperx-dex-assets.s3.sa-east-1.amazonaws.com/images/1677160225494-e3cgxTZD1i.png)

![](https://paperx-dex-assets.s3.sa-east-1.amazonaws.com/images/1677160230222-8yXVUVd0Qz.png)

**Fonte:** (AWS 2022, Documento Online). ​  
  

​O funcionamento do Amazon CloudWatch é extremamente simples e envolve a coleta de diversos dados de monitoramento, logs, métricas e eventos que são transportados para painéis automatizados. Dessa maneira, o operador/administrador poderá acompanhar de forma unificada o consumo de seus recursos.  
No Amazon CloudWatch as métricas e logs podem ser correlacionados de forma a permitir que o administrador compreenda melhor o status de integridade e nível de performance dos seus recursos além de permitir a criação de alarmes customizados com as métricas do administrador, ressaltando facilmente eventuais comportamentos anômalos.  
  
**Otimização de custos com AWS Trusted Advisor**  
Assim como a AWS nasceu para oferecer a melhor infraestrutura para a operação da Amazon em seu comércio eletrônico, seus serviços de monitoramento e avaliação de desempenho são estendidos para todos seus clientes e se materializam em sistemas dedicados a este propósito, como o que ocorre com o AWS Trusted Advisor, um aplicativo que,  

\[…\] conta com as melhores práticas assimiladas a partir do histórico operacional agregado da AWS de atendimento a centenas de milhares de clientes. O Trusted Advisor inspeciona seu ambiente da AWS e faz recomendações para economizar, melhorar a performance do sistema ou corrigir falhas de segurança. (AWS 2020, Documento Online).  
​  

Não são os alertas que são o destaque do AWS Trusted Advisor e sim seus conselhos. Em sua atuação o serviço promove a oferta de recomendações específicas para que o cliente possa atuar no uso das melhores práticas recomendadas em cada serviço que utiliza na plataforma. Tais orientações entram nos vários aspectos do uso da nuvem, podendo ser relativa à otimização de infraestrutura, melhorias de segurança, desempenho e fazem com que o usuário reduza seus custos com seu serviço.  
Desta forma, o AWS Trusted Advisor se torna uma importante ferramenta na busca pela otimização da utilização dos serviços AWS por seus clientes através de importantes recomendações feitas pelo cuidadoso monitoramento que a própria AWS faz em sua infraestrutura. Ao fazer sugestões como a desativação de instâncias RDS ociosas, endereços de IP elásticos não associados, por exemplo, o AWS Trusted Advisor atua na melhoria do tempo de resposta destes serviços e reduz seu custo para o cliente.  
  
**Atividade Extra**  
  
Vídeo: “AWS Trusted Advisor - Uma Visão Geral”. Link do vídeo: <[https://www.youtube.com/watch?v=Vl0fZK8KiRg](https://www.youtube.com/watch?v=Vl0fZK8KiRg)\> **(Acesso em 04/08/2022)**  
  
  
**Referência Bibliográfica**  
  
AWS. **Amazon CloudWatch**. 2022. Disponível em:< [https://aws.amazon.com/pt/cloudwatch/](https://aws.amazon.com/pt/cloudwatch/) > **(Acesso em 04/08/2022)**  
  
AWS. **AWS CloudTrail:** Guia do usuário. 2022a. Disponível em: < [https://docs.aws.amazon.com/pt\_br/awscloudtrail/latest/userguide/awscloudtrail-ug.pdf#cloudtrail-concepts](https://docs.aws.amazon.com/pt_br/awscloudtrail/latest/userguide/awscloudtrail-ug.pdf#cloudtrail-concepts) > **(Acesso em 04/08/2022)**  
  
AWS. **AWS Trusted Advisor**. 2022b. Disponível em: < [https://aws.amazon.com/pt/premiumsupport/technology/trusted-advisor/](https://aws.amazon.com/pt/premiumsupport/technology/trusted-advisor/) > **(Acesso em 04/08/2022)**  
  
AWS. **O AWS Trusted Advisor adiciona 5 verificações de otimização de custos**. 2020. Disponível em: < [https://aws.amazon.com/pt/about-aws/whats-new/2020/05/aws-trusted-advisor-adds-5-cost-optimization-checks/#:~:text=Recentemente%2C%20o%20AWS%20Trusted%20Advisor,o%20ElasticSearch%20e%20o%20RDS](https://aws.amazon.com/pt/about-aws/whats-new/2020/05/aws-trusted-advisor-adds-5-cost-optimization-checks/#:~:text=Recentemente%2C%20o%20AWS%20Trusted%20Advisor,o%20ElasticSearch%20e%20o%20RDS). > **(Acesso em 04/08/2022)**  
  
AWS. **Observabilidade**. 2022c. Disponível em: <[https://aws.amazon.com/pt/products/management-and-governance/use-cases/monitoring-and-observability/?whats-new-cards.sort-by=item.additionalFields.postDateTime&whats-new-cards.sort-order=desc&blog-posts-cards.sort-by=item.additionalFields.createdDate&blog-posts-cards.sort-order=desc](https://aws.amazon.com/pt/products/management-and-governance/use-cases/monitoring-and-observability/?whats-new-cards.sort-by=item.additionalFields.postDateTime&whats-new-cards.sort-order=desc&blog-posts-cards.sort-by=item.additionalFields.createdDate&blog-posts-cards.sort-order=desc) > **(Acesso em 04/08/2022)**