## Análise de custos dentro da AWS

**AWS Organizations**  
Antes da popularização da computação em nuvem, as empresas eram obrigadas a manter dezenas de licenças dos softwares que utilizavam; mas, uma vez que na nuvem, esta necessidade não mais existe. O desafio é controlar o uso destes sistemas de forma que seja eficiente, que contribua estrategicamente com os resultados da empresa e também ofereça um custo de operação reduzido.  
Um dos motivos de migrar sistemas e serviços para a nuvem é a economia que estes serviços oferecem, além da facilidade de contratação e da capacidade de se aumentar o desempenho dos pacotes contratados instantaneamente. Mas nem mesmo tais serviços resistem a um uso negligente, a falta de gestão, de monitoramento.  
Muitas empresas possuem diversas contas em seus provedores de acesso à nuvem e as utilizam para controlar melhor o consumo dos recursos. Na AWS uma forma de se organizar estes múltiplos acessos recebe o nome de AWS Organizations,  

\[…\] um serviço de gerenciamento de contas que permite consolidar várias contas da AWS em uma organização que você cria e gerencia de maneira centralizada. Com o Organizations, você pode criar contas de membro e convidar contas existentes para se juntarem à sua organização. É possível organizar essas contas em grupos e anexar controles com base em políticas. (AWS 2022, p.01).  
  

Com o uso do AWS Organizations, a empresa passa a gerenciar melhor o ambiente de produção, pois realiza a concentração de suas contas em um mesmo dashboard. Este sistema se torna imprescindível quando as atividades da empresa estão em expansão e novos recursos precisam ser gerenciados, mantendo organizados os diferentes sistemas e instâncias utilizados.  
O AWS Organizations se integra a diversos outros serviços AWS, e, com isso, em sua gestão, configurações padrão podem ser estabelecidas. Desta forma, se uma nova conta for integrada e nela existir uma configuração específica para determinado sistema, esta configuração pode ser aplicada e uniformizará a forma com que tal sistema é utilizado, mesmo que por equipes diferentes. Dentre os principais benefícios do AWS Organizations, temos:  

- Dimensione suas cargas de trabalho rapidamente;
- Forneça ambientes personalizados para diferentes cargas de trabalho;
- Proteja e audite seu ambiente de forma centralizada em todas as contas;
- Simplifique o gerenciamento de permissões e o controle de acesso;
- Provisione recursos eficientemente entre contas; (AWS 2022a, Documento Online).

De forma geral, o uso do AWS Organizations promete uma melhor gestão dos custos, principalmente através da otimização do uso dos seus sistemas pelas diversas contas da empresa.  
  
**Traga Sua Própria Licença – BYOL**  
Muito se fala da migração para a nuvem, de suas vantagens e de como faz com que as empresas deixem de depender da compra de licenças de software que ficarão obsoletas em pouco tempo, etc. Mas a realidade nos mostra que muitas empresas possuem um alto valor investido em suas licenças, e a existência de serviços similares de baixo custo na nuvem não são fatores suficientes para que tais licenças sejam abandonadas.  
Em situações como esta, entra em cena o BYOL (Bring Your Own License), um serviço AWS que permite que a empresa possa levar seu sistema e sua licença de uso para o seu ambiente em nuvem. O detalhe está no fato de que processos ligados a manutenção do sistema portado serão de responsabilidade da empresa, e não mais do provedor.  
Vale ressaltar que o BYOL não é exatamente um sistema e sim uma função que plataformas como o EC2 possuem de abrigar sistemas que seus usuários possuem licença de uso. Com o EC2 o usuário pode criar instâncias dedicadas para hospedar seus sistemas proprietários. Mas existe um detalhe: o software e seu acordo de uso devem prever a possibilidade do cliente portador de licença instalar seu software na sua máquina virtual.  
Em alguns casos, a AWS oferece um hardware específico, que pode ser provisionado nas situações em que o acordo de uso do sistema faz exigências específicas e, assim, o usuário tem seu software na nuvem, mantendo a sua conformidade.  
Para que o software seja elegível para operar em BYOL, detalhes de sua licença devem ser avaliados, como termos, requisitos de mobilidade e até mesmo a data de compra. No caso da Microsoft, existem acordos e licenças especiais para esta finalidade:  

- Microsoft Enterprise Enrollment/Agreement (EA);
- Microsoft Server and Cloud Enrollment (SCE);
- Microsoft Enterprise Subscription Agreement (EAS);
- Microsoft Product and Services Agreement (MPSA);
- Microsoft Open/Open Value/Open Value Subscription;
- Microsoft Enrollment for Education Solutions (EES) AWS 2022b, Documento Online).

  

Assim, o processo de migração de aplicações com licença, embora possível, demanda cuidado e uma detalhada análise dos detalhes de seu licenciamento. Dependendo das dificuldades da migração, o responsável do TI da empresa pode optar por migrar os dados e abandonar sua aplicação registrada.  
  
**Benefícios do AWS Budgets**  
Existem muitas formas de se ter o melhor dos serviços AWS com o menor custo, e a própria AWS entrega esta solução aos seus clientes. Uma vez que um usuário AWS é criado, ele ganha acesso irrestrito aos serviços, e sem o devido cuidado e organização, pode acabar com uma grande fatura em mãos, mas, com os serviços de orientação, é possível manter uma experiência otimizada e um custo ajustado ao orçamento do cliente.  
Desta maneira, a AWS permite a configuração de orçamentos personalizados, impedindo que o uso de sua plataforma ofereça um custo imprevisível ao seu gestor. A configuração do AWS Budgets faz com que o gestor da conta receba alertas, dependendo dos parâmetros de consumo que foram definidos. Os alertas podem ser configurados para serem recebidos via e-mail ou via SNS (Simple Notification Service).  
Complementando este serviço de acompanhamento do consumo de recursos, existe o AWS Budget Actions, que permite ao usuário a configuração de ações específicas como resposta ao alcance de certas condições de uso dos serviços da sua conta. As ações deste recurso entram em cena quando limites pré-estabelecidos são alcançados e fazem com que ocorram mudanças nos serviços que reduzam a velocidade ou impeçam seu consumo. O AWS Budgets permite que você crie orçamentos personalizados, que alertam quando os custos ou o uso ultrapassarem (ou estiver previsto que ultrapassarão) a quantia do orçamento. Você também pode usar o AWS Budgets para definir metas de utilização ou cobertura de RI e receber alertas quando a utilização cair abaixo do limite definido. Os alertas de RI são compatíveis com reservas do Amazon EC2, Amazon RDS, Amazon Redshift e Amazon ElastiCache. (AWS 2021a, p.20).  
Estes orçamentos podem ser configurados em diferentes períodos, como mensalmente, trimestralmente e até anualmente, dependendo do recurso e do estilo de consumo deste recurso. Em adição a estas configurações, o usuário pode monitorar contas associadas, múltiplas instâncias e ter os avisos de alerta enviados em seu e-mail no momento em que ocorrerem.  
  
  
**Benefícios do AWS Cost Explorer  
**  
Outro sistema que auxilia no controle financeiro do uso dos serviços AWS é o Cost Explorer, que com sua interface intuitiva oferece a visualização facilitada dos custos dos recursos que o usuário está consumindo na plataforma. Com o AWS Cost Explorer o usuário pode criar seus próprios relatórios, tabelas e gráficos em termos gerais e totais. Os relatórios do AWS Cost Explorer oferecem diversas informações, como:  

- **Custos mensais por Serviço da AWS:** O AWS Cost Explorer inclui um relatório padrão, que ajuda a ver os custos e o uso associados aos cinco Serviços da AWS que mais aumentam os custos, além de disponibilizar um detalhamento minucioso sobre todos os serviços, na visualização da tabela.
- **Granularidade por hora e por recurso:** O AWS Cost Explorer ajuda você a visualizar, entender e gerenciar os custos e o uso da AWS, com uma granularidade diária ou mensal.
- **Savings Plans:** Os Savings Plans são um modelo de definição de preço flexível, que oferece economia de até 72% no uso de computação da AWS. (AWS 2020d, Documento Online).

Com o AWS Cost Explorer, o usuário recebe grande apoio na hora de escolher um Savings Plan e usa estas informações para ser orientado durante o processo de contratação. Os Saving plans são planos com preço menor em relação a serviços sob demanda, desta forma, uma orientação do Cost Explorer pode severamente impactar no custo operacional de uso dos serviços AWS.  
  
**Calculadora de preços AWS**  
Por fim, temos o AWS Pricing Calculator, uma ferramenta web que permite ao usuário projetar o custo de seu uso nos serviços AWS. A ideia central desta solução é facilitar o processo de migração para a nuvem, oferecendo ao usuário a possibilidade de compreender o impacto do custo operacional que os serviços demandados na AWS terão em seu orçamento.  
Mas o AWS Pricing Calculator também auxilia na busca por reduções de custo, ao exibir melhores formas de contratação dos serviços, como as instâncias spot, por exemplo. Outro ponto a ressaltar está no fato de que o AWS Pricing Calculator pode até mesmo ser utilizado como mecanismo de convencimento, quando as decisões pela migração para a nuvem ainda não estão tomadas, onde ainda resta alguma dúvida ou incerteza. A seguir, temos as principais tarefas que podem ser realizadas com o AWS Pricing Calculator:  

- Exibir preços transparentes — veja os cálculos por trás dos preços estimados para suas configurações de serviço. Você pode visualizar as estimativas de preço por serviço ou por grupos de serviços, para analisar os custos de arquitetura.
- Usar grupos para estimativas hierárquicas — classifique suas estimativas em grupos para se alinhar com sua arquitetura, para uma análise clara do custo de serviço.
- Compartilhe suas estimativas — Salve o link para cada estimativa, para compartilhar ou revisitar posteriormente. As estimativas são salvas no AWS em servidores públicos.
- Exportar estimativas — exporte suas estimativas em formato CSV ou PDF, para compartilhar localmente com suas partes interessadas. (AWS 2019, p.01).

Portanto, podemos compreender que a definição de preços do AWS Pricing Calculator, além de não oferecer nenhum custo adicional, exibe as estimativas de taxas e cobranças da conta de usuário e faz sempre uma avaliação das campanhas de marketing, garantindo que, em sua plataforma, a cobrança seja feita somente com o preço promocional, que pode ser encontrado nas peças de marketing.  
  
**Atividade Extra  
**  
Vídeo: AWS Webinars - Otimização de custos  
  
Link do vídeo: [https://www.youtube.com/watch?v=5N2Clttw2Sk](https://www.youtube.com/watch?v=5N2Clttw2Sk) **(Acesso em 04/08/2022)**  
  
  
**Referência Bibliográfica**  
  
AWS. **Amazon WorkSpaces**: Guia de administração. 2021. Disponível em: < [https://docs.aws.amazon.com/pt\_br/workspaces/latest/adminguide/workspaces-ag.pdf#byol-windows-images](https://docs.aws.amazon.com/pt_br/workspaces/latest/adminguide/workspaces-ag.pdf#byol-windows-images) > **(Acesso em 04/08/2022)**  
  
AWS. **Amazon Web Services e Microsoft**. 2022b. Disponível em: <[https://aws.amazon.com/pt/windows/faq/](https://aws.amazon.com/pt/windows/faq/)\> **Acesso em: 16/07/2022**.  
AWS. **AWS Cost Explorer**. 2022d. Disponível em: <[https://aws.amazon.com/pt/aws-cost-management/aws-cost-explorer/](https://aws.amazon.com/pt/aws-cost-management/aws-cost-explorer/) > **(Acesso em 04/08/2022)**  
  
AWS. **AWS Organizations**. 2022. Disponível em: <[https://aws.amazon.com/pt/organizations/#:~:text=O%20AWS%20Organizations%20est%C3%A1%20dispon%C3%ADvel,da%20AWS%20sem%20custos%20adicionais](https://aws.amazon.com/pt/organizations/#:~:text=O%20AWS%20Organizations%20est%C3%A1%20dispon%C3%ADvel,da%20AWS%20sem%20custos%20adicionais)**(Acesso em 04/08/2022)  
**  
AWS. **AWS Organizations**: Guia do usuário. 2022a. Disponível em: <[https://docs.aws.amazon.com/pt\_br/organizations/latest/userguide/organizations-userguide.pdf#orgs\_introduction](https://docs.aws.amazon.com/pt_br/organizations/latest/userguide/organizations-userguide.pdf#orgs_introduction) > **(Acesso em 04/08/2022)**  
  
AWS. **AWS Pricing Calculator**: Guia do usuário. 2019. Disponível em: <[https://docs.aws.amazon.com/pt\_br/pricing-calculator/latest/userguide/aws-pc.pdf#what-is-pricing-calculator](https://docs.aws.amazon.com/pt_br/pricing-calculator/latest/userguide/aws-pc.pdf#what-is-pricing-calculator) > **(Acesso em 04/08/2022)**  
  
AWS. **Orçamentos da AWS. 2022c**. Disponível em: <[https://aws.amazon.com/pt/aws-cost-management/aws-budgets/](https://aws.amazon.com/pt/aws-cost-management/aws-budgets/) > **(Acesso em 04/08/2022)**  
  
AWS. **Visão geral da Amazon Web Services Whitepaper da AWS**. 2021a. Disponível em: < [https://docs.aws.amazon.com/pt\_br/whitepapers/latest/aws-overview/aws-overview.pdf#aws-cost-management](https://docs.aws.amazon.com/pt_br/whitepapers/latest/aws-overview/aws-overview.pdf#aws-cost-management) > **(Acesso em 04/08/2022)**